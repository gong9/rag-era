# RAG çŸ¥è¯†åº“ç³»ç»Ÿ

> åŠå¤©å†™Demoï¼ŒåŠå¹´éš¾ä¸Šçº¿

ä¸€ä¸ªæ”¯æŒ **Agentic RAG** çš„æ™ºèƒ½çŸ¥è¯†åº“ç³»ç»Ÿ

## æ¼”ç¤ºæˆªå›¾

<div align="center">
  <img src="img/demo1.png" alt="Dashboard Demo" width="100%" />
  <p><em>çŸ¥è¯†åº“ç®¡ç†</em></p>
  <br/>
  <img src="img/demo2.png" alt="Chat Demo" width="100%" />
  <p><em>æ™ºèƒ½é—®ç­”</em></p>
  <br/>
  <img src="img/demo3.png" alt="Eval Demo" width="100%" />
  <p><em>RAG è¯„ä¼°ç³»ç»Ÿ</em></p>
</div>

## æ ¸å¿ƒåŠŸèƒ½

- **æ–‡æ¡£ç®¡ç†**: æ”¯æŒ PDFã€DOCXã€TXTã€MD ç­‰æ ¼å¼ä¸Šä¼ å’Œç´¢å¼•
- **æ™ºèƒ½é—®ç­”**: åŸºäºçŸ¥è¯†åº“å†…å®¹çš„ç²¾å‡†ä¸Šä¸‹æ–‡é—®ç­”
- **Agentic RAG**: ReAct Agent å¯è‡ªä¸»é€‰æ‹©å·¥å…·è¿›è¡Œå¤šè½®æ¨ç†
- **æ··åˆæœç´¢**: å‘é‡æ£€ç´¢ + å…³é”®è¯æ£€ç´¢ï¼ŒRRF èåˆæ’åº
- **AI å›¾è¡¨ç”Ÿæˆ**: ä¸¤æ­¥ LLM ç”Ÿæˆï¼ˆé€»è¾‘åˆ†æ â†’ Mermaidï¼‰ï¼Œç¡®ä¿æµç¨‹æ­£ç¡®
- **æ„å›¾é©±åŠ¨**: LLM è‡ªåŠ¨è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼Œæ™ºèƒ½è·¯ç”±åˆ°åˆé€‚çš„å·¥å…·
- **è´¨é‡è¯„ä¼°**: å›ç­”è´¨é‡è‡ªåŠ¨æ£€æµ‹ï¼Œä½è´¨é‡æ—¶è‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 3 æ¬¡ï¼‰
- **RAG è¯„ä¼°ç³»ç»Ÿ**: å››ç»´åº¦ LLM Judge è‡ªåŠ¨è¯„åˆ†ï¼Œæ”¯æŒ SSE å®æ—¶è¿›åº¦æ¨é€

### Agent å·¥å…·ç®±

| å·¥å…· | åŠŸèƒ½ |
|------|------|
| `search_knowledge` | ç²¾å‡†æ£€ç´¢ï¼ˆTop-3ï¼Œæ··åˆæœç´¢ï¼‰ |
| `deep_search` | æ·±åº¦æ£€ç´¢ï¼ˆTop-8ï¼Œæ··åˆæœç´¢ï¼‰ |
| `summarize_topic` | ä¸»é¢˜æ€»ç»“ï¼ˆç›´æ¥è¯»å–åŸæ–‡ï¼‰ |
| `keyword_search` | å…³é”®è¯ç²¾ç¡®æœç´¢ï¼ˆMeilisearchï¼‰ |
| `web_search` | æœç´¢äº’è”ç½‘ï¼ˆSearXNGï¼‰ |
| `get_current_datetime` | è·å–å½“å‰æ—¥æœŸæ—¶é—´ |
| `fetch_webpage` | æŠ“å–ç½‘é¡µå†…å®¹ |
| `generate_diagram` | ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨ï¼ˆæµç¨‹å›¾/æ—¶åºå›¾ï¼‰ |

### æ™ºèƒ½æ„å›¾è¯†åˆ«

Agent ä¼šè‡ªåŠ¨åˆ†æç”¨æˆ·é—®é¢˜çš„æ„å›¾ï¼š

| æ„å›¾ç±»å‹ | ç¤ºä¾‹ | å¤„ç†æ–¹å¼ |
|----------|------|----------|
| `greeting` | "ä½ å¥½" | ç›´æ¥å›å¤ï¼Œè·³è¿‡ Agent |
| `small_talk` | "ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·" | ç›´æ¥å›å¤ |
| `document_summary` | "xxxè®²äº†ä»€ä¹ˆ" | è°ƒç”¨ summarize_topic |
| `knowledge_query` | "ä»€ä¹ˆæ˜¯RAG" | è°ƒç”¨ search_knowledge |
| `draw_diagram` | "ç”»ä¸ªæµç¨‹å›¾" | è°ƒç”¨ generate_diagram |
| `web_search` | "æœ€æ–°çš„AIæ–°é—»" | è°ƒç”¨ web_search |
| `datetime` | "ç°åœ¨å‡ ç‚¹" | è°ƒç”¨ get_current_datetime |

### æ‰§è¡Œé“¾è·¯è¿½è¸ª

æ¯æ¬¡æŸ¥è¯¢ä¼šè®°å½•å®Œæ•´çš„æ‰§è¡Œé“¾è·¯ï¼Œç”¨äºè´¨é‡è¯„ä¼°ï¼š

```
1. ç”¨æˆ·é—®é¢˜ â†’ 2. æ„å›¾åˆ¤æ–­ â†’ 3. é¢„æ£€ç´¢ â†’ 4. Agentå·¥å…·è°ƒç”¨ â†’ 5. è´¨é‡è¯„ä¼° â†’ 6. æœ€ç»ˆå›ç­”
```

## æŠ€æœ¯æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·æŸ¥è¯¢                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ„å›¾åˆ†æ (LLM)                            â”‚
â”‚   greeting â†’ ç›´æ¥å›å¤ â”‚ knowledge_query â†’ Agent å¤„ç†         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é¢„æ£€ç´¢ (Pre-retrieval)                    â”‚
â”‚            æ··åˆæœç´¢ = å‘é‡æ£€ç´¢ + å…³é”®è¯æ£€ç´¢                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ReAct Agent                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚ çŸ¥è¯†æ£€ç´¢  â”‚ ç½‘é¡µæœç´¢  â”‚ å›¾è¡¨ç”Ÿæˆ  â”‚ ä¸»é¢˜æ€»ç»“  â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è´¨é‡è¯„ä¼° (LLM)                            â”‚
â”‚         é€šè¿‡ â†’ è¿”å› â”‚ ä¸é€šè¿‡ â†’ é‡è¯• (æœ€å¤š3æ¬¡)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RAG è¯„ä¼°ç³»ç»Ÿ

ç³»ç»Ÿå†…ç½®å››ç»´åº¦ LLM Judge è¯„ä¼°æ¡†æ¶ï¼Œæ”¯æŒ**è‡ªåŠ¨ç”Ÿæˆè¯„ä¼°é—®é¢˜**ï¼Œå¯¹ RAG ç³»ç»Ÿè¿›è¡Œå…¨é¢çš„è‡ªåŠ¨åŒ–è¯„æµ‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è¯„ä¼°æµç¨‹                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       è‡ªåŠ¨ç”Ÿæˆè¯„ä¼°é—®é¢˜ (æ ¹æ®çŸ¥è¯†åº“å†…å®¹)                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ å›ºå®šé—®é¢˜(2ä¸ª):                                â”‚         â”‚
â”‚   â”‚   â€¢ æ€»ç»“çŸ¥è¯†åº“æ–‡æ¡£å†…å®¹ (å¿…é€‰)                   â”‚         â”‚
â”‚   â”‚   â€¢ æ—¶é—´æŸ¥è¯¢/å¤©æ°”æŸ¥è¯¢ (äºŒé€‰ä¸€)                  â”‚         â”‚
â”‚   â”‚ åŠ¨æ€é—®é¢˜(8ä¸ª): LLM æ ¹æ®æ–‡æ¡£å†…å®¹ç”Ÿæˆ             â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           é€ä¸ªé—®é¢˜è°ƒç”¨ Agentic RAG è·å–å›ç­”                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 å››ç»´åº¦ LLM Judge è¯„åˆ†                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚   â”‚ æ£€ç´¢è´¨é‡  â”‚  å¿ å®åº¦  â”‚ ç­”æ¡ˆè´¨é‡  â”‚ å·¥å…·è°ƒç”¨  â”‚            â”‚
â”‚   â”‚Retrieval â”‚Faithful  â”‚ Quality  â”‚   Tool   â”‚            â”‚
â”‚   â”‚ (0-5åˆ†)  â”‚ (0-5åˆ†)  â”‚ (0-5åˆ†)  â”‚ (0-5åˆ†)  â”‚            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SSE å®æ—¶æ¨é€ â†’ å‰ç«¯å±•ç¤ºè¯„ä¼°è¿›åº¦                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¯„ä¼°é—®é¢˜è‡ªåŠ¨ç”Ÿæˆ**ï¼šæ— éœ€æ‰‹åŠ¨ç¼–å†™ eval.jsonï¼Œç³»ç»Ÿæ ¹æ®æ¯ä¸ªçŸ¥è¯†åº“çš„å®é™…å†…å®¹è‡ªåŠ¨ç”Ÿæˆé’ˆå¯¹æ€§çš„è¯„ä¼°é—®é¢˜ã€‚

| è¯„ä¼°ç»´åº¦ | è¯´æ˜ | è¯„åˆ†æ ‡å‡† |
|----------|------|----------|
| **æ£€ç´¢è´¨é‡** | æ£€ç´¢å†…å®¹ä¸é—®é¢˜çš„ç›¸å…³æ€§ | 5åˆ†=é«˜åº¦ç›¸å…³ï¼Œ0åˆ†=å®Œå…¨æ— å…³ |
| **å¿ å®åº¦** | å›ç­”æ˜¯å¦åŸºäºæ£€ç´¢å†…å®¹ï¼Œæ˜¯å¦å­˜åœ¨å¹»è§‰ | 5åˆ†=æ— å¹»è§‰ï¼Œ0åˆ†=å®Œå…¨å¹»è§‰ |
| **ç­”æ¡ˆè´¨é‡** | æ­£ç¡®æ€§ã€å®Œæ•´æ€§ã€æ¸…æ™°åº¦ | 5åˆ†=ä¼˜ç§€ï¼Œ0åˆ†=æ— æ•ˆ |
| **å·¥å…·è°ƒç”¨** | Agent å·¥å…·é€‰æ‹©æ˜¯å¦åˆç† (Agentic RAG ç‰¹æœ‰) | 5åˆ†=æœ€ä¼˜é€‰æ‹©ï¼Œ0åˆ†=å®Œå…¨é”™è¯¯ |

> ğŸ’¡ å¯¹äº web_searchã€get_current_datetime ç­‰å·¥å…·ç±»é—®é¢˜ï¼Œæ£€ç´¢è´¨é‡å’Œå¿ å®åº¦ä¼šè‡ªåŠ¨é€‚é…è¯„ä¼°ç­–ç•¥ã€‚

### æ··åˆæœç´¢åŸç†

```
         ç”¨æˆ·æŸ¥è¯¢
            â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
     â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘é‡æ£€ç´¢ â”‚  â”‚å…³é”®è¯æ£€ç´¢â”‚
â”‚(è¯­ä¹‰ç›¸ä¼¼)â”‚  â”‚(ç²¾ç¡®åŒ¹é…)â”‚
â”‚LlamaIndexâ”‚  â”‚Meilisearchâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚             â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ RRF èåˆæ’åº â”‚
     â”‚score = Î£ 1/(k+rank)â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
       èåˆåç»“æœ
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. ç¯å¢ƒé…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
DATABASE_URL="file:./dev.db"
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key

# Qwen API (é˜¿é‡Œäº‘)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=qwen-turbo
OPENAI_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1

# Meilisearch (å¯é€‰ï¼Œç”¨äºå…³é”®è¯æœç´¢)
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=your-master-key
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
npx prisma generate
npx prisma db push
```

### 4. å¯åŠ¨ Meilisearch (å¯é€‰)

æœ¬åœ° Docker éƒ¨ç½²ï¼š

```bash
./deploy-meilisearch.sh
```

æˆ–è¿œç¨‹æœåŠ¡å™¨éƒ¨ç½²ï¼š

```bash
./deploy-meilisearch-remote.sh
```

### 5. å¯åŠ¨åº”ç”¨

```bash
pnpm dev
```

è®¿é—® http://localhost:3000

## ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ chat/          # èŠå¤©æ¥å£
â”‚   â”‚   â”œâ”€â”€ documents/     # æ–‡æ¡£å¤„ç†
â”‚   â”‚   â”œâ”€â”€ eval/          # è¯„ä¼°ç³»ç»Ÿæ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ generate/  # è¯„ä¼°é—®é¢˜ç”Ÿæˆ API
â”‚   â”‚   â”‚   â””â”€â”€ stream/    # SSE å®æ—¶è¿›åº¦æ¨é€
â”‚   â”‚   â””â”€â”€ knowledge-bases/ # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”œâ”€â”€ chat/[id]/         # èŠå¤©é¡µé¢
â”‚   â””â”€â”€ dashboard/         # ç®¡ç†é¡µé¢
â”‚       â”œâ”€â”€ [id]/          # çŸ¥è¯†åº“è¯¦æƒ…é¡µ
â”‚       â””â”€â”€ eval/          # RAG è¯„ä¼°é¡µé¢
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â””â”€â”€ DiagramMessage.tsx # å›¾è¡¨æ¸²æŸ“ç»„ä»¶ (Excalidraw)
â”œâ”€â”€ lib/                   # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ llm.ts            # LLM æœåŠ¡ & Agentic RAG
â”‚   â”œâ”€â”€ meilisearch.ts    # Meilisearch æœåŠ¡
â”‚   â”œâ”€â”€ hybrid-search.ts  # æ··åˆæœç´¢ & RRF èåˆ
â”‚   â”œâ”€â”€ mermaid-cleaner.ts # Mermaid è¯­æ³•æ¸…æ´—
â”‚   â”œâ”€â”€ eval-generator.ts # è¯„ä¼°é—®é¢˜è‡ªåŠ¨ç”Ÿæˆ
â”‚   â”œâ”€â”€ eval-service.ts   # è¯„ä¼°æœåŠ¡ï¼ˆè¿è¡Œè¯„æµ‹ã€ä¿å­˜ç»“æœï¼‰
â”‚   â””â”€â”€ eval-judges.ts    # å››ç»´åº¦ LLM Judge
â”œâ”€â”€ types/                 # TypeScript ç±»å‹
```

# å¯åŠ¨å¼€å‘ç¯å¢ƒ
./dev.sh start

# æŸ¥çœ‹çŠ¶æ€
./dev.sh status
# è¾“å‡ºï¼š
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#         RAG å¼€å‘ç¯å¢ƒçŠ¶æ€
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ•¸ï¸  LightRAG:  è¿è¡Œä¸­ (PID: 1234)
#    â””â”€ http://localhost:8005/health
# ğŸŒ Next.js:   è¿è¡Œä¸­ (PID: 5678)
#    â””â”€ http://localhost:3000

# åœæ­¢
./dev.sh stop

## è®¸å¯è¯

MIT
